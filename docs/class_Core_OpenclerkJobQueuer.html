<!DOCTYPE HTML>
<html>
<head>
  <title>PHPDoc2 - openclerk</title>
  <link rel="stylesheet" type="text/css" href="default.css">
</head>
<body>
<nav>
  <a href="index.html">Root</a>
</nav>

<div class="content">
<ul class="class-hierarchy"><li><a href="class_Openclerk_Jobs_JobQueuer.html" class="">Openclerk\Jobs\JobQueuer</a><ul><li>Core\OpenclerkJobQueuer</li></ul></li></ul>
<h1>
  <small>class</small>

  <a href="namespace_Core.html" class="">Core</a>  \
  <a href="class_Core_OpenclerkJobQueuer.html" class="">OpenclerkJobQueuer</a></h1>




<hr>

<p>A helper class to find job instances that need to be run, and queue them up in the database. Job running is managed by JobRunner. <i>(from <a href="class_Openclerk_Jobs_JobQueuer.html" class="">JobQueuer</a>)</i></p><p>TODO create more intelligent job queueing strategies <i>(from <a href="class_Openclerk_Jobs_JobQueuer.html" class="">JobQueuer</a>)</i></p><dl></dl>
<hr>

<h2>Method Summary</h2>

<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
<tr><td><a href="class_Core_OpenclerkJobQueuer.html#findJobs" class="">findJobs(Connection $db, Logger $logger)</a></td><td>Get a list of all jobs that need to be queued, as an array of associative arrays with (job_type, arg_id, [user_id]).</td></tr><tr><td><a href="class_Core_OpenclerkJobQueuer.html#getStandardJobs" class="">getStandardJobs()</a></td><td>Get all of the "standard" job types. This provides information such as whether the job type is failable or not. In the future, all of this should be moved into individual job definitions particularly with <code>openclerk/jobs</code>, e.g. FailableJob</td></tr><tr><td><a href="class_Core_OpenclerkJobQueuer.html#jobQueued" class="">jobQueued(Connection $db, Logger $logger, $job)</a></td><td>The given job has been queued up, so we can mark it as successfully queued.</td></tr>  </tbody>
</table>


<h2>Inherited Method Summary</h2>

<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
<tr><td><a href="class_Openclerk_Jobs_JobQueuer.html#getJobPrefix" class="">getJobPrefix($job_type)</a></td><td> <i>(from <a href="class_Openclerk_Jobs_JobQueuer.html#getJobPrefix" class="">JobQueuer</a>)</i></td></tr><tr><td><a href="class_Openclerk_Jobs_JobQueuer.html#queue" class="">queue(Connection $db, Logger $logger)</a></td><td>Find all jobs that need to be queued through <a href="class_Openclerk_Jobs_JobQueuer.html#findJobs" class="">#findJobs()</a> and queue them up in the database. <i>(from <a href="class_Openclerk_Jobs_JobQueuer.html#queue" class="">JobQueuer</a>)</i></td></tr>  </tbody>
</table>



<hr>

<h3>
  <small>public function</small>
  findJobs(<a href="interface_Db_Connection.html" class="">Connection</a> $db, Logger $logger)  <a name="findJobs"></a>
</h3>

<blockquote>
<p>Get a list of all jobs that need to be queued, as an array of associative arrays with (job_type, arg_id, [user_id]).</p><p>This could use e.g. JobTypeFinder</p><dl><dt>Overrides:</dt><dd><a href="class_Openclerk_Jobs_JobQueuer.html#findJobs" class="">findJobs(Connection $db, Logger $logger)</a></dd></dl></blockquote>


<hr>

<h3>
  <small>static function</small>
  getStandardJobs()  <a name="getStandardJobs"></a>
</h3>

<blockquote>
<p>Get all of the "standard" job types. This provides information such as whether the job type is failable or not. In the future, all of this should be moved into individual job definitions particularly with <code>openclerk/jobs</code>, e.g. FailableJob</p><dl></dl></blockquote>


<hr>

<h3>
  <small>public function</small>
  jobQueued(<a href="interface_Db_Connection.html" class="">Connection</a> $db, Logger $logger, $job)  <a name="jobQueued"></a>
</h3>

<blockquote>
<p>The given job has been queued up, so we can mark it as successfully queued.</p><dl><dt>Overrides:</dt><dd><a href="class_Openclerk_Jobs_JobQueuer.html#jobQueued" class="">jobQueued(Connection $db, Logger $logger, $job)</a></dd></dl></blockquote>

</div>

<div class="footer">
  Generated by <a href="https://github.com/soundasleep/phpdoc2/" class="github">PHPDoc2</a> Fri, 24 Apr 2015 14:42:26 +1200</div>

</body>
</html>
